<div class="card shadow-sm mb-4">
    <div class="card-header">
        <div class="row" *ngIf="!!userData">
            <div class="col-auto">
                <figure class="avatar avatar-60 rounded-10">
                    <img [src]="imagePath+userData.image" alt="">
                </figure>
            </div>
            <div class="col px-0 align-self-center">
                <h3 class="mb-0 text-color-theme" >{{userData.firstname}} {{userData.lastname}}</h3>
                <!-- <p class="text-muted ">New York City, US</p> -->
            </div>
        </div>
    </div>
    <!-- <div class="card-body">
        <p class="text-muted ">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque sollicitudin dignissim
            nisi, eget malesuada ligula ultricies sit amet. Suspendisse efficitur ex eu est placerat mattis.
        </p>
    </div> -->
</div>

<div class="row mb-3">
    <div class="col">
        <h6>{{'BASIC_INFORMATION' | translate}}</h6>
    </div>
</div>

<form [formGroup]="profileForm">
    <div class="row h-100 mb-4">


        <div class="col-12 col-md-6 col-lg-4 mb-3">
            <div class="form-group form-floating">
                <input type="text" class="form-control" value="" id="firstname" placeholder="" formControlName="firstname">
                <label class="form-control-label" for="firstname">{{'FIRSTNAME' | translate}}</label>
            </div>
        </div>


        <div class="col-12 col-md-6 col-lg-4 mb-3">
            <div class="form-group form-floating">
                <input type="text" class="form-control" value="" id="lastname" placeholder="" formControlName="lastname"> 
                <label class="form-control-label" for="lastname">{{'LASTNAME' | translate}}</label>
            </div>
        </div>

        <div class="col-12 col-md-6 col-lg-4 mb-3">
            <div class="form-group form-floating">
                <select formControlName="gender" class="form-control" >
                    <option selected value="">Select</option>
                    <option value="f">Female</option>
                    <option value="m">Male</option>
                </select>
                <label class="form-control-label" for="gender">{{'GENDER' | translate}}</label>
            </div>
        </div   >

        <div class="col-12 col-md-6 col-lg-4 mb-3">
            <div class="form-group form-floating">
                <input class="form-control form-line" type="text" daterangepicker 
                        id="date_of_birth" [options]="singlePicker"   (selected)="selectedDate($event)"
                       name="date_of_birth" formControlName="date_of_birth"/>
                <label class="form-control-label" for="date_of_birth">{{'DATE_OF_BIRTH' | translate}}</label>
            </div>
        </div>

        <div class="col-12 col-md-6 col-lg-4 mb-3">
            <div class="form-group form-floating">
                <select formControlName="language" class="form-control" (change)="changeLanguage($event)">
                    <option selected value="">Select</option>
                    <option value="en">English</option>
                    <option value="hi">Hindi</option>
                    <option value="bn">Bengali</option>
                    <option value="mr">Marathi</option>
                    <option value="te">Telugu</option>
                    <option value="ta">Tamil</option>
                    <option value="kn">kannada</option>

                </select>
                <label class="form-control-label" for="language">{{'LANGUAGE' | translate}}</label>
            </div>
        </div>

        <div class="col-12 col-md-6 col-lg-4 mb-3">
            <div class="form-group form-floating">
                <input type="text" class="form-control" value="" id="username" placeholder="" formControlName="username">
                <label class="form-control-label" for="username">{{'USERNAME' | translate}}</label>
            </div>
        </div>


        <div class="col-12 col-md-6 col-lg-4 mb-3">
            <div class="form-group form-floating">
                <input type="text" class="form-control" value="" id="phone" placeholder="" formControlName="phone">
                <label class="form-control-label" for="phone">{{'PHONE' | translate}}</label>
            </div>
        </div>


        <div class="col-12 col-md-6 col-lg-4 mb-3">
            <div class="form-group form-floating">
                <input type="text" class="form-control" value="" id="email" placeholder="" formControlName="email">
                <label class="form-control-label" for="email">{{'EMAIL' | translate}}</label>
            </div>
        </div>
    </div>


    <div class="row mb-3">
        <div class="col">
            <h6>{{'PROFILE_PICTURE' | translate}}</h6>
        </div>
    </div>
    <div class="row h-100 mb-4">
        <div class="col-12 col-md-6 col-lg-4 mb-3">
            <div class="form-group form-floating mb-4">
                <input class="form-control" type="file" id="image" name="image" 
                (change)="onFileChange($event)" formControlName="image" placeholder="image">
            </div>
        </div>

        <div class="col-12 col-md-6 col-lg-4 mb-3" *ngIf="croppedImageBase64">
            <div class="avatar avatar-60 rounded-10">
                <img [src]="croppedImageBase64" class="avatar"/>
            </div>
        </div>

        <div class="col-12 col-md-12 col-lg-12 mb-3" *ngIf="imageChangedEvent">
            <div class="form-group form-floating mb-4">
                <image-cropper
                [imageChangedEvent]="imageChangedEvent"
                [maintainAspectRatio]="true"
                [aspectRatio]="4 / 4"
                [resizeToWidth]="128"
                format="png"
                (imageCropped)="imageCropped($event)"
                (imageLoaded)="imageLoaded()"
                (cropperReady)="cropperReady()"
                (loadImageFailed)="loadImageFailed()"
            ></image-cropper>
            </div>
        </div>
    </div>

    <div class="row mb-3">
        <div class="col">
            <h6>{{'CHANGE_PASSWORD' | translate}}</h6>
        </div>
    </div>
    <div class="row h-100 mb-4">
        <div class="col-12 col-md-6 col-lg-4">
            <div class="form-floating  mb-3">
                <input type="password" class="form-control" value="asdasdasdsd" placeholder="Password"  formControlName="password"
                    id="password">
                <label for="password">Password</label>
            </div>
        </div>
        <div class="col-12 col-md-6 col-lg-4">
            <div class="form-floating ">
                <input type="password" class="form-control" placeholder="Confirm Password" id="confirmpassword" formControlName="confirmpassword">
                <label for="confirmpassword">Confirm Password</label>
            </div>
        </div>
    </div>

    <div class="row mb-3">
        <div class="col">
            <h6>{{'NOTIFICATION_RECEIVE' |translate}}</h6>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="card shadow-sm mb-4">
                <ul class="list-group list-group-flush bg-none">
                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-auto pr-0 align-self-center text-end">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="settingscheck1" formControlName="emailNotification">
                                    <label class="form-check-label" for="settingscheck1"></label>
                                </div>
                            </div>
                            <div class="col ps-0">
                                <h6 class="mb-1">{{'EMAIL_NOTIFICATION' | translate}}</h6>
                                <p class="text-muted small">{{'EMAIL_NOTIFICATION_TEXT' |translate}}</p>
                            </div>
                        </div>
                    </li>

                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-auto pr-0 align-self-center text-end">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="settingscheck1" formControlName="enableOfflineAccess">
                                    <label class="form-check-label" for="settingscheck1"></label>
                                </div>
                            </div>
                            <div class="col ps-0">
                                <h6 class="mb-1">{{'ENABLE_OFFLINE_ACCESS' | translate}}</h6>
                                <p class="text-muted small">{{'ENABLE_OFFLINE_ACCESS_TEXT' |translate}}</p>
                            </div>
                        </div>
                    </li>

                    
                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-auto pr-0 align-self-center text-end">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="settingscheck2" (change)="changeAccountDeactivation($event)">
                                    <label class="form-check-label" for="settingscheck2"></label>
                                </div>
                            </div>
                            <div class="col ps-0">
                                <h6 class="mb-1">{{'ACCOUNT_DEACTIVATION' | translate}}</h6>
                                <p class="text-muted small">{{'ACCOUNT_DEACTIVATION_TEXT' | translate}}</p>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</form>


<div class="row h-100 ">
    <div class="col-12 mb-4">
        <a (click)="onSubmit()" target="_self" class="btn btn-default btn-lg w-100">Update</a>
    </div>
</div>